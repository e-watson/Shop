@model Shop.Web.Models.CheckOutModel

@{
	ViewBag.Title = "Checkout";
}

<script src="~/Scripts/utils.js"></script>
<script src="~/Scripts/app/controllers/checkout.controller.js"></script>
<script src="~/Scripts/app/services/sd.basket.service.js"></script>
<script src="~/Scripts/app/models/basket.js"></script>
<script src="~/Scripts/app/models/basket.item.js"></script>
<script src="~/Scripts/app/models/basket.info.js"></script>
<script src="~/Scripts/app/models/basket.details.js"></script>
<script src="~/Scripts/app/models/basket.detail.line.js"></script>

<div ng-app="checkout">
	<div ng-controller="checkoutController">
		<div class="row">
			<div class="col-md-10"></div>
			<div class="col-md-2">
				<span class="glyphicon glyphicon-shopping-cart" style="margin: 0 !important;"></span>
				Articles: {{basketInfo.quantitySum}} | &euro;&nbsp;{{basketInfo.priceSum}}
			</div>
		</div>
		<br />
		<div>
			<table class="table">
				<caption>Basket lines</caption>
				<thead>
					<tr>
						<th>Name</th>
						<th>Quantity</th>
						<th>Total price</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="d in basketDetails.lines">
						<td>{{d.name}}</td>
						<td>{{d.quantity}}</td>
						<td>&euro;&nbsp;{{d.totalPrice}}</td>
					</tr>
					<tr>
						<td></td>
						<td></td>
						<td>
							<span style="font-weight: bold;">Total (Excl. VAT):&nbsp;&euro;&nbsp;{{basketDetails.total}}</span>
						</td>
					</tr>
					<tr>
						<td></td>
						<td></td>
						<td>
							<span style="font-weight: bold;">Vat:&nbsp;&euro;&nbsp;{{basketDetails.vat}}</span>
						</td>
					</tr>
					<tr>
						<td></td>
						<td></td>
						<td>
							<span style="font-weight: bold;">Total (Incl. VAT):&nbsp;&euro;&nbsp;{{basketDetails.totalVat}}</span>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<br />
		<h4>Customer</h4>
		<br />
		@using (Html.BeginForm(null, null, FormMethod.Post, (new { @class = "form-horizontal", @role = "form" })))
		{
			<div class="form-group">
				@Html.LabelFor(model => model.Customer.Title, new { @class = "col-sm-2 control-label" })
				<div class="col-sm-10">
					@Html.TextBoxFor(model => model.Customer.Title, new { @class = "form-control" })
					<span style="color:red">@Html.ValidationMessageFor(model => model.Customer.Title)</span>
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(model => model.Customer.FirstName, new { @class = "col-sm-2 control-label" })
				<div class="col-sm-10">
					@Html.TextBoxFor(model => model.Customer.FirstName, new { @class = "form-control" })
					<span style="color:red">@Html.ValidationMessageFor(model => model.Customer.FirstName)</span>
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(model => model.Customer.LastName, new { @class = "col-sm-2 control-label" })
				<div class="col-sm-10">
					@Html.TextBoxFor(model => model.Customer.LastName, new { @class = "form-control" })
					<span style="color:red">@Html.ValidationMessageFor(model => model.Customer.LastName)</span>
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(model => model.Customer.Address, new { @class = "col-sm-2 control-label" })
				<div class="col-sm-10">
					@Html.TextBoxFor(model => model.Customer.Address, new { @class = "form-control" })
					<span style="color:red">@Html.ValidationMessageFor(model => model.Customer.Address)</span>
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(model => model.Customer.HouseNumber, new { @class = "col-sm-2 control-label" })
				<div class="col-sm-10">
					@Html.TextBoxFor(model => model.Customer.HouseNumber, new { @class = "form-control" })
					<span style="color:red">@Html.ValidationMessageFor(model => model.Customer.HouseNumber)</span>
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(model => model.Customer.ZipCode, new { @class = "col-sm-2 control-label" })
				<div class="col-sm-10">
					@Html.TextBoxFor(model => model.Customer.ZipCode, new { @class = "form-control" })
					<span style="color:red">@Html.ValidationMessageFor(model => model.Customer.ZipCode)</span>
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(model => model.Customer.City, new { @class = "col-sm-2 control-label" })
				<div class="col-sm-10">
					@Html.TextBoxFor(model => model.Customer.City, new { @class = "form-control" })
					<span style="color:red">@Html.ValidationMessageFor(model => model.Customer.City)</span>
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(model => model.Customer.Email, new { @class = "col-sm-2 control-label" })
				<div class="col-sm-10">
					@Html.TextBoxFor(model => model.Customer.Email, new { @class = "form-control" })
					<span style="color:red">@Html.ValidationMessageFor(model => model.Customer.Email)</span>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<button type="submit" class="btn btn-default">Register</button>
				</div>
			</div>
			@Html.HiddenFor(model => model.EncodedOrderLines, new { @id = "encodedOrderLines" })
		}
		<div>(*) - required fields</div>
	</div>
</div>